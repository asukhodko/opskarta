# Планирование (`start`, `duration`, `after`)

Поля планирования позволяют задать временные характеристики узлов и зависимости между ними.

## Поля планирования

- `start` *(string, YYYY-MM-DD)* — плановая дата начала работы.
  Формат: ISO 8601 дата, например `2024-03-15`.

- `duration` *(string)* — длительность работы.
  Формат: число с суффиксом единицы времени:
  - `d` — дни (например, `5d` = 5 дней)
  - `w` — недели (например, `2w` = 2 недели)

- `after` *(list[string])* — список ID узлов-зависимостей.
  Семантика: узел может стартовать только после завершения **всех** узлов из списка `after`.

## Примеры

### Узел с фиксированной датой старта

```yaml
nodes:
  kickoff:
    title: "Kickoff"
    start: "2024-03-01"
    duration: "1d"
```

### Узел с зависимостью

```yaml
nodes:
  design:
    title: "Дизайн"
    start: "2024-03-01"
    duration: "5d"

  implementation:
    title: "Реализация"
    after: [design]
    duration: "10d"
```

В этом примере `implementation` может начаться только после завершения `design`.

### Узел с несколькими зависимостями

```yaml
nodes:
  backend:
    title: "Backend API"
    duration: "5d"

  frontend:
    title: "Frontend UI"
    duration: "3d"

  integration:
    title: "Интеграция"
    after: [backend, frontend]
    duration: "2d"
```

Узел `integration` ждёт завершения **обоих** узлов `backend` и `frontend`.

## Взаимодействие с представлениями

Поля планирования используются рендерерами для построения временных диаграмм:

- **Gantt-диаграммы**: `start` и `duration` определяют позицию и длину полосы узла на временной шкале.
- **Зависимости**: `after` может отображаться как стрелки между узлами.
- **Исключения календаря**: параметр `excludes` в `gantt_views` (например, `weekends`) влияет на расчёт дат при наличии `duration`.

## Примечания

- Если `start` не указан, но есть `after`, дата старта вычисляется как максимальная дата окончания зависимостей.
- Если ни `start`, ни `after` не указаны, узел считается непланируемым (не отображается на временной шкале).
- `duration` без `start` или `after` не имеет смысла для временной шкалы, но может использоваться для оценки трудозатрат.
